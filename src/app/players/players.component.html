<p-toast></p-toast>
<div style="border-top: 2cm;">
<p-table [value]="players" dataKey="id" editMode="row" [tableStyle]="{ 'min-width': '50rem' }">
  <ng-template pTemplate="header">
      <tr>
          <th>Id</th>
          <th>Name</th>
          <th>Age</th>
          <th>Team</th>
          <th></th>
      </tr>
  </ng-template>
  <ng-template pTemplate="body" let-player let-editing="editing" let-ri="rowIndex">
    <tr [pEditableRow]="player">
      <td>
        {{ player.id }}
      </td>
      <td>
          <p-cellEditor>
              <ng-template pTemplate="input">
                  <input 
                      pInputText type="text" 
                      [(ngModel)]="player.name" 
                      required />
              </ng-template>
              <ng-template pTemplate="output">
                  {{player.name}}
              </ng-template>
          </p-cellEditor>
      </td>
      <td>
          <p-cellEditor>
            <ng-template pTemplate="input">
              <input 
                  pInputText type="text" 
                  [(ngModel)]="player.age" 
                  required />
          </ng-template>
          <ng-template pTemplate="output">
              {{player.age}}
          </ng-template>
          </p-cellEditor>
      </td>
      <td>
        {{ player.teamName }}
      </td>
      <td>
  <div class="flex align-items-center justify-content-center gap-2">
      <button 
          *ngIf="!editing" 
          pButton 
          pRipple 
          type="button" 
          pInitEditableRow 
          icon="pi pi-pencil" 
          (click)="onRowEditInit(player)" 
          class="p-button-rounded p-button-text">
      </button>
      <button 
          *ngIf="editing" 
          pButton 
          pRipple 
          type="button" 
          pSaveEditableRow 
          icon="pi pi-check" 
          (click)="onRowEditSave(player)" 
          class="p-button-rounded p-button-text p-button-success mr-2">
      </button>
      <button 
          *ngIf="editing" 
          pButton pRipple 
          type="button" 
          pCancelEditableRow 
          icon="pi pi-times" 
          (click)="onRowEditCancel(player, ri)" 
          class="p-button-rounded p-button-text p-button-danger">
      </button>
  </div>
      </td>
  </tr>
  </ng-template>
</p-table>
</div>